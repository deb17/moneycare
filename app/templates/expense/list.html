{% extends 'base.html' %}
{% from 'bootstrap/pagination.html' import render_pagination %}

{% block styles %}
{{ super() }}
<style>
  .table {
    background-color: #f5f5f5;
  }
  .table-bordered,
  .table-bordered td,
  .table-bordered th {
    border: 1px solid #999;
  }
</style>
{% endblock %}

{% block content %}
<h2 class="py-4">List of expenses in {{ year }}</h2>
<small>Click on a serial number to see details.</small>
<div class="d-none d-md-block">
  <table class="table table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Date</th>
        <th scope="col">Description</th>
        <th scope="col">Payment mode</th>
        <th scope="col">Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for e in expenses.items %}
      <tr>
        <th scope="row"><a href="{{ url_for('expense.get_expense', id=e.id, page=expenses.page) }}">{{ (expenses.page - 1) * expenses.per_page + loop.index }}</a></th>
        <td class="table-info">{{ moment(e.date).format('MMM Do YYYY') }}</td>
        <td class="table-info">{{ e.description }}</td>
        <td class="table-info">{{ e.payment_mode.mode }}</td>
        <td class="table-success"><b>{{ e.amount | format_currency }}</b></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="d-block d-md-none">
  {% for e in expenses.items %}
  <ul class="list-group mb-3">
    <li class="list-group-item list-group-item-info"># <b><a href="{{ url_for('expense.get_expense', id=e.id, page=expenses.page) }}">{{ (expenses.page - 1) * expenses.per_page + loop.index }}</a></b></li>
    <li class="list-group-item list-group-item-info"><b>Date: </b>{{ moment(e.date).format('MMM Do YYYY') }}</li>
    <li class="list-group-item list-group-item-info"><b>Description:</b><br>{{ e.description }}</li>
    <li class="list-group-item list-group-item-info"><b>Payment mode:</b><br>{{ e.payment_mode.mode }}</li>
    <li class="list-group-item list-group-item-info"><b>Amount: </b>{{ e.amount | format_currency }}</li>
  </ul>
  {% endfor %}
</div>
{{ render_pagination(expenses, prev='prev', next='next') }}
{% endblock %}

{% block scripts %}
{{ super() }}
{{ moment.include_moment() }}
{% endblock %}
